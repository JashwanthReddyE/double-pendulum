function z = myderiv(t,y,l2)
  %constants
	m1 = 0.1;
	m2 = 0.1;
	L1 = 0.1;
	g = 9.81;

  	L2 = l2;
	z(1) = y(2);
	z(2) = (-g * (2 * m1 + m2) * sin(y(1)) - m2 * g * sin(y(1) - 2 * y(3)) ...
             - 2 * sin(y(1) - y(3)) * m2 * (y(4)^2 * L2 + y(2)^2 * L1 * cos(y(1) - y(3)))) ...
             / (L1 * (2 * m1 + m2 - m2 * cos(2 * y(1) - 2 * y(3))));
	z(3) = y(4);
	z(4) = (2 * sin(y(1) - y(3)) * (y(2)^2 * L1 * (m1 + m2) + g * (m1 + m2) * cos(y(1)) ...
             + y(4)^2 * L2 * m2 * cos(y(1) - y(3)))) / (L2 * (2 * m1 + m2 - m2 * cos(2 * y(1) - 2 * y(3))));
	z = [z(1); z(2); z(3); z(4)];
end
